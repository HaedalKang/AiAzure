# 대화 언어 이해의 기본 사항

## 목차
- [대화 언어 이해의 기본 사항](#대화-언어-이해의-기본-사항)
  - [목차](#목차)
  - [소개](#소개)
  - [대화 언어 이해 설명](#대화-언어-이해-설명)
    - [발언](#발언)
    - [엔터티](#엔터티)
    - [의도](#의도)
  - [Azure에서 대화형 언어 이해 시작](#azure에서-대화형-언어-이해-시작)
    - [대화 언어 이해를 위한 Azure 리소스](#대화-언어-이해를-위한-azure-리소스)
    - [작성](#작성)
      - [모델 학습](#모델-학습)
    - [예측](#예측)
  - [연습 - Language Studio로 대화 언어 이해 사용](#연습---language-studio로-대화-언어-이해-사용)
  - [요약](#요약)
  - [출처](#출처)

## 소개

1950년, 영국의 수학자 앨런 튜링(Alan Turing)은 튜링 테스트로 알려지게 된 모방 게임을 고안했으며, 대화가 충분히 자연스러워지면 인간이나 컴퓨터와 대화하고 있는지 알 수 없다고 가설을 세웠습니다. AI(인공 지능)가 점점 정교해지면서 애플리케이션 및 디지털 어시스턴트와 나누는 대화 방식의 상호 작용이 점점 보편화되었으며, 특정 시나리오에서는 AI 에이전트와 마치 인간처럼 상호 작용할 수 있게 되었습니다. 이런 솔루션의 일반적인 시나리오에는 고객 지원 애플리케이션, 예약 시스템, 홈 자동화 등이 있습니다.

모방 게임의 열망을 실현하려면, 컴퓨터는(텍스트 또는 오디오 형식으로) 언어 입력을 받아들일 수 있을 뿐 아니라 입력의 의미론적 의도를 해석할 수 있어야 합니다. 즉, 입력된 내용이 무슨 뜻인지 이해할 수 있어야 합니다.

Microsoft Azure는 Azure AI 언어 서비스를 통해 대화형 언어 이해를 지원합니다. 대화형 언어 이해를 사용하는 한 가지 예는 음성에 따라 디바이스를 켜고 끌 수 있는 애플리케이션입니다. 명령 및 제어, 엔드투엔드 대화 및 엔터프라이즈 지원과 관련된 다양한 유형의 작업은 Azure AI Language의 대화형 언어 이해 기능을 사용하여 완료할 수 있습니다.

---
## 대화 언어 이해 설명

대화형 언어 이해 작업을 하려면 발화, 항목 및 의도라는 세 가지 핵심 개념을 고려해야 합니다.

### 발언

발화는 사용자가 소리 내어 말하는 무언가로, 애플리케이션이 해석해야 하는 대상입니다. 예를 들어 홈 자동화 시스템을 사용 중인 경우 사용자는 다음과 같은 발화를 사용할 수 있습니다.

> “선풍기 켜 줘.”
>
> “불 켜 줘.”

### 엔터티

엔터티는 발화가 참조하는 항목입니다. 예를 들어, 다음 발화에서 선풍기와 불이 엔터티에 해당합니다.

> “선풍기 켜 줘.”
>
> “불 켜 줘.”

선풍기 및 불 엔터티를 디바이스라는 일반 엔터티의 특정한 인스턴스라고 생각할 수 있습니다.

### 의도

의도는 사용자의 발화에서 표현된 목적 또는 목표를 나타냅니다. 예를 들어, 이전에 고려한 발화 모두에 대해 의도는 장치를 켜는 것입니다. 따라서 대화 언어 이해 애플리케이션에서 이러한 발화와 관련된 TurnOn 의도를 정의할 수 있습니다.

대화형 언어 이해 애플리케이션은 의도와 엔터티로 구성된 모델을 정의합니다. 발화는 주어진 입력을 기반으로 하여 적용해야 하는 가장 적절한 의도와 엔터티를 식별하기 위해 모델을 학습시키는 데 사용됩니다. 앞에서 살펴본 홈 도우미 애플리케이션에는 다음 예시와 같은 여러 가지 의도가 포함될 수 있습니다.

| Intent            | 관련 발화               | 엔터티        |
|-------------------|---------------------|------------|
| Greeting          | "Hello"             |            |
|                   |“Hi”                 |            |
|                   |“있잖아”             |                     |
|                   | “Good morning”    |                     |
| TurnOn            | “선풍기 켜 줘”           | 선풍기(디바이스)  |
|                   | “불 켜 줘”           | 불(디바이스)             |
|                   |“불 켜 줘”           | 불(디바이스)             |
| TurnOff           | “선풍기 꺼 줘”           | 선풍기(디바이스)  |
|                   | “불 꺼 줘”           | 불(디바이스)             |
|                   |“불 꺼”             | 불(디바이스)             |
| CheckWeather      | “오늘 날씨 어때?”         | 오늘(날짜/시간)  |
|                   | “일기 예보 알려 줘”      |                     |
|                   | “파리 일기 예보는 어때?”   | 파리(위치)| 
|                   |“내일 시애틀의 날씨는 어때?” | 시애틀(위치), 내일(날짜/시간)  |
| None              | “삶의 의미는 무엇인가?”      |            |
|                    |“이거 켜진 건가?”       |                     |

이 표에는 각 의도를 위해 사용되는 여러 가지 발화가 있습니다. 의도는 발화 작업을 그룹화하는 간결한 방법이어야 합니다. 여기서 특별 관심 분야는 None 의도입니다. 입력한 발화를 매핑하지 않는 발화를 처리하는 데 도움이 되도록 항상 None 의도를 사용하는 것을 고려해야 합니다. None 의도는 폴백으로 간주되며 일반적으로 요청이 다른 인텐트와 일치하지 않을 때 사용자에게 일반적인 응답을 제공하는 데 사용됩니다.

대화형 언어 이해 애플리케이션에서 샘플 발화로 엔터티 및 의도를 정의한 후 샘플 발화와 정확히 일치하지 않더라도 사용자 입력에서 의도 및 엔터티를 예측하도록 언어 모델을 교육할 수 있습니다. 그런 다음 클라이언트 애플리케이션에서 모델을 사용하여 예측을 가져오고 그것에 맞게 응답할 수 있습니다.

---
## Azure에서 대화형 언어 이해 시작

Azure AI Language의 대화형 언어 이해 기능을 사용하면 언어 모델을 작성하고 예측에 사용할 수 있습니다. 모델을 작성하려면 엔터티, 의도 및 발화를 정의해야 합니다. 예측을 생성하려면 클라이언트 애플리케이션이 사용자 입력을 받아 응답을 반환할 수 있도록 모델을 게시해야 합니다.

### 대화 언어 이해를 위한 Azure 리소스

Azure에서 대화형 언어 기능을 사용하려면 Azure 구독에 리소스가 필요합니다. 다음과 같은 유형의 리소스를 사용할 수 있습니다.

 - Azure AI Language: 기계 학습 전문 지식 없이 업계 최고의 자연어 이해 기능으로 앱을 빌드할 수 있는 리소스입니다. 작성 및 예측에 언어 리소스를 사용할 수 있습니다.
 - Azure AI 서비스: 다른 많은 Azure AI 서비스와 함께 대화 언어 이해를 포함하는 일반 리소스입니다. 예측을 위해서는 이 종류의 리소스만 사용할 수 있습니다.

리소스 분리는 모든 Azure AI 서비스 애플리케이션을 사용하는 클라이언트 애플리케이션과 별도로 Azure AI 언어 사용에 대한 리소스 사용률을 추적하려는 경우에 유용합니다.

### 작성

제작 리소스를 만든 후에는 이 리소스를 사용하여 대화형 언어 이해 모델을 학습시킬 수 있습니다. 모델을 학습하려면 먼저 예측 모델을 학습하는 데 사용할 수 있는 각 의도에 대한 발화뿐만 아니라 애플리케이션에서 예측할 엔터티 및 의도를 정의합니다.

대화형 언어 이해는 일반적인 시나리오에 대한 사전 정의된 의도 및 항목을 포함하는 사전 구축된 도메인의 포괄적인 모음을 제공합니다. 모델의 시작점으로 사용할 수 있습니다. 사용자 고유의 엔터티 및 의도를 만들 수도 있습니다.

엔터티 및 의도를 만들 때는 어떤 순서로든 이를 수행할 수 있습니다. 의도를 만든 다음 의도에 대해 정의한 샘플 발화에서 단어를 선택하여 엔터티를 만들 수도 있고, 엔터티를 미리 만든 다음 의도를 만드는 과정에서 발화에 포함된 단어에 의도를 매핑할 수도 있습니다.

모델의 요소를 정의하는 코드를 작성할 수 있지만 대부분의 경우 Conversational Language Understanding 애플리케이션을 만들고 관리하기 위한 웹 기반 인터페이스인 Language Studio를 사용하여 모델을 작성하는 것이 가장 쉽습니다.

#### 모델 학습

모델의 의도와 엔터티를 정의하고 적절한 샘플 발화 세트를 포함했다면 이제 모델을 학습시킬 차례입니다. 학습이란 샘플 발화를 사용하여 사용자가 말할 수 있는 의도 및 엔터티의 자연어 표현과 일치하도록 모델을 가르치는 프로세스입니다.

모델을 학습시킨 후에는 텍스트를 제출하고 예측된 의도를 검토하여 모델을 테스트할 수 있습니다. 학습과 테스트는 반복적인 프로세스입니다. 모델을 학습시킨 후에는 샘플 발화로 모델을 테스트하여 의도와 엔터티가 제대로 인식되는지 확인합니다. 제대로 인식되지 않으면 업데이트하고 다시 학습시킨 후에 다시 테스트합니다.

### 예측

학습 및 테스트 결과에 만족하면 Conversational Language Understanding 애플리케이션이 사용될 수 있도록 예측 리소스에 게시할 수 있습니다.

클라이언트 애플리케이션은 예측 리소스의 엔드포인트에 연결하고 적절한 인증 키를 지정하고 사용자 입력을 제출하여 예측된 의도 및 엔터티를 얻음으로써 모델을 사용할 수 있습니다. 예측은 클라이언트 애플리케이션으로 반환되며, 클라이언트 애플리케이션은 예측된 의도에 따라 적절한 조취를 취할 수 있습니다.

---
## 연습 - Language Studio로 대화 언어 이해 사용

Azure를 구독하고 있는 경우 Language Studio를 사용하여 Azure AI 언어의 기능을 탐색할 수 있습니다.

TODO : 실습자료 만들기

---
## 요약

대화형 언어 이해를 사용하여 자연어 발언에서 의도와 엔터티를 예측하는 모델을 빌드할 수 있습니다. 클라이언트 애플리케이션은 이 학습된 모델을 사용하여 사용자의 자연어 입력에 응답할 수 있습니다.

Azure AI 언어 문서에서 대화 언어 이해에 대해 자세히 알아볼 수 있습니다.

---
## 출처
[Microsoft learn 대화 언어 이해의 기본 사항](https://learn.microsoft.com/ko-kr/training/modules/create-language-model-with-language-understanding/)